TODO

- [x] Concurrent access to client map
- [x] What about using channels instead of locks?
- [x] Creating methods versus plain functions
- [x] When to use references instead of values?
- [ ] Tests
- [ ] Auto-reconnect when server restarts
